{
    "$schema": "https://json.schemastore.org/staticwebapp.config.json",
    "routes": [
        {
            "route": "/admin/*",
            "allowedRoles": [
                "authenticated"
            ]
        },
        {
            "route": "/api/admin/*",
            "allowedRoles": [
                "authenticated"
            ]
        }
    ],
    "navigationFallback": {
        "rewrite": "/index.html",
        "exclude": [
            "/css/*",
            "/images/*",
            "/_framework/*",
            "/*.js",
            "/*.css",
            "/*.ico"
        ]
    },
    "responseOverrides": {
        "401": {
            "redirect": "/.auth/login/aad?post_login_redirect_uri=/admin/meetings",
            "statusCode": 302
        }
    },
    "auth": {
        "identityProviders": {
            "azureActiveDirectory": {
                "registration": {
                    "openIdIssuer": "https://login.microsoftonline.com/{TENANT_ID}/v2.0",
                    "clientIdSettingName": "AAD_CLIENT_ID",
                    "clientSecretSettingName": "AAD_CLIENT_SECRET"
                }
            }
        }
    },
    "platform": {
        "apiRuntime": "dotnet-isolated:10.0"
    },
    "globalHeaders": {
        "X-Content-Type-Options": "nosniff",
        "X-Frame-Options": "DENY",
        "Content-Security-Policy": "default-src 'self'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' data: blob:; script-src 'self' 'unsafe-inline' 'wasm-unsafe-eval';"
    }
}