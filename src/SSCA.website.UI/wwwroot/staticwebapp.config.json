{
    "$schema": "https://json.schemastore.org/staticwebapp.config.json",
    "routes": [
        {
            "route": "/mgmt/*",
            "allowedRoles": [
                "authenticated"
            ]
        },
        {
            "route": "/api/mgmt/*",
            "allowedRoles": [
                "authenticated"
            ]
        },
        {
            "route": "/bulletin/{*name}",
            "rewrite": "/api/bulletin-file/{*name}"
        }
    ],
    "navigationFallback": {
        "rewrite": "/index.html",
        "exclude": [
            "/api/*",
            "/bulletin/*",
            "/css/*",
            "/images/*",
            "/_framework/*",
            "/*.js",
            "/*.css",
            "/*.ico"
        ]
    },
    "responseOverrides": {
        "401": {
            "redirect": "/.auth/login/aad?post_login_redirect_uri=/mgmt/meetings",
            "statusCode": 302
        }
    },
    "auth": {
        "identityProviders": {
            "azureActiveDirectory": {
                "registration": {
                    "openIdIssuer": "https://login.microsoftonline.com/a4c3e4ce-64c3-4252-a762-c9debdbf8e72/v2.0",
                    "clientIdSettingName": "AAD_CLIENT_ID",
                    "clientSecretSettingName": "AAD_CLIENT_SECRET"
                }
            }
        }
    },
    "platform": {
        "apiRuntime": "dotnet-isolated:8.0"
    },
    "globalHeaders": {
        "X-Content-Type-Options": "nosniff",
        "X-Frame-Options": "SAMEORIGIN",
        "Content-Security-Policy": "default-src 'self'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; img-src 'self' data: blob: https://*.ytimg.com https://*.google.com https://*.gstatic.com; script-src 'self' 'unsafe-inline' 'wasm-unsafe-eval'; media-src 'self' https://*.blob.core.windows.net; frame-src https://*.youtube.com https://*.youtube-nocookie.com https://www.google.com https://maps.google.com;"
    }
}